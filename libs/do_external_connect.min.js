!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/libs/",n(n.s=906)}({147:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(38);function r(t,e=!1,n="hash"){const r="search"===n?t.search:t.hash,i={},s=r&&r.substr(1).split("&")||[];if("hash"===n&&1===s.length){const t=s[0];if(t.startsWith("/")&&1===t.split("&").length)return i}return s.forEach(t=>{const n=t.split("="),r=n[0];if(!r)return;let s;try{s=n[1],e||(s=JSON.parse(decodeURIComponent(s).replace(/\\&/,"&")))}catch(t){return void Object(o.j)(t,`Failed to parse URL parameter value: ${String(s)}`)}i[r]=s}),i}},159:function(t,e){var n={trace:0,debug:1,info:2,log:3,warn:4,error:5};i.consoleTransport=console;var o=[i.consoleTransport];function r(){var t=arguments[0],e=arguments[1],r=Array.prototype.slice.call(arguments,2);if(!(n[e]<t.level))for(var i=function(){var t={methodName:"",fileLocation:"",line:null,column:null},e=new Error,n=e.stack?e.stack.split("\n"):[];if(!n||n.length<1)return t;var o=null;return n[3]&&(o=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!o||o.length<=4?(0===n[2].indexOf("log@")?t.methodName=n[3].substr(0,n[3].indexOf("@")):t.methodName=n[2].substr(0,n[2].indexOf("@")),t):(t.methodName=o[1],t.fileLocation=o[2],t.line=o[3],t.column=o[4],t)}(),s=o.concat(t.transports),c=0;c<s.length;c++){var u=s[c],a=u[e];a&&"function"==typeof a&&a.bind(u,t.id?"["+t.id+"]":"","<"+i.methodName+">: ").apply(u,r)}}function i(t,e,o,i){this.id=e,this.format=i,this.transports=o,this.transports||(this.transports=[]),this.level=n[t];for(var s=Object.keys(n),c=0;c<s.length;c++)this[s[c]]=r.bind(null,this,s[c])}i.addGlobalTransport=function(t){-1===o.indexOf(t)&&o.push(t)},i.removeGlobalTransport=function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1)},i.prototype.setLevel=function(t){this.level=n[t]},t.exports=i,i.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},236:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return s});const o=n(30).getLogger(t);function r(){return window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app}function i(t,e){const n=Object(t);for(const t in e)if(e.hasOwnProperty(t)){const o=e[t];void 0!==o&&(n[t]=o)}return n}function s(t,e=""){o.error(e,t),window.onerror&&window.onerror(e,null,null,null,t)}}).call(this,"react/features/base/util/helpers.js")},237:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});const o=n(30).getLogger(t);function r(t){return fetch(t).then(t=>{const e=t.json();return t.ok?e:e.then(t=>Promise.reject(t))}).catch(e=>(o.error("Error performing get:",t,e),Promise.reject(e)))}}).call(this,"react/features/base/util/httpUtils.js")},238:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return g});const o=n(30).getLogger(t),r="org.jitsi.meet:",i="[\\:\\?#\\[\\]@!$&'()*+,;=></\"]",s="(//[^/?#]+)",c="([^?#]*)",u="^([a-z][a-z0-9\\.\\+-]*:)";function a(t){const e=new RegExp(`${u}+`,"gi"),n=e.exec(t);if(n){let o=n[n.length-1].toLowerCase();"http:"!==o&&"https:"!==o&&(o="https:"),(t=t.substring(e.lastIndex)).startsWith("//")&&(t=o+t)}return t}function l({pathname:t}){const e=t.lastIndexOf("/");return-1===e?"/":t.substring(0,e+1)}function f(t={}){const e=[];for(const n in t)try{e.push(`${n}=${encodeURIComponent(JSON.stringify(t[n]))}`)}catch(t){o.warn(`Error encoding ${n}: ${t}`)}return e}function h(t){const e={toString:p};let n,o,r;if(t=t.replace(/\s/g,""),(o=(n=new RegExp(u,"gi")).exec(t))&&(e.protocol=o[1].toLowerCase(),t=t.substring(n.lastIndex)),o=(n=new RegExp(`^${s}`,"gi")).exec(t)){let r=o[1].substring(2);t=t.substring(n.lastIndex);const i=r.indexOf("@");-1!==i&&(r=r.substring(i+1)),e.host=r;const s=r.lastIndexOf(":");-1!==s&&(e.port=r.substring(s+1),r=r.substring(0,s)),e.hostname=r}if((o=(n=new RegExp(`^${c}`,"gi")).exec(t))&&(r=o[1],t=t.substring(n.lastIndex)),r?r.startsWith("/")||(r=`/${r}`):r="/",e.pathname=r,t.startsWith("?")){let n=t.indexOf("#",1);-1===n&&(n=t.length),e.search=t.substring(0,n),t=t.substring(n)}else e.search="";return e.hash=t.startsWith("#")?t:"",e}function d(t){if("string"!=typeof t)return;const e=h(a(t));e.contextRoot=l(e);const{pathname:n}=e,o=n.lastIndexOf("/");let r=n.substring(o+1)||void 0;if(r&&"meet"===r)r=function(t,e){e||(e=window.location.href);t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);if(!n)return null;if(!n[2])return"";return decodeURIComponent(n[2].replace(/\+/g," "))}("room");else if(r){const t=function(t){return t?t.replace(new RegExp(i,"g"),""):t}(r);t!==r&&(r=t,e.pathname=n.substring(0,o+1)+(r||""))}return e.room=r,e}function p(t){const{hash:e,host:n,pathname:o,protocol:r,search:i}=t||this;let s="";return r&&(s+=r),n&&(s+=`//${n}`),s+=o||"/",i&&(s+=i),e&&(s+=e),s}function g(t){let e;switch(typeof t){case"object":t&&(e=t instanceof URL?t.href:function(t){let e;e=t.serverURL&&t.room?new URL(t.room,t.serverURL).toString():t.room?t.room:t.url||"";const n=h(a(e));if(!n.protocol){let e=t.protocol||t.scheme;e&&(e.endsWith(":")||(e+=":"),n.protocol=e)}let{pathname:o}=n;if(!n.host){const e=t.domain||t.host||t.hostname;if(e){const{host:t,hostname:i,pathname:s,port:c}=h(a(`${r}//${e}`));t&&(n.host=t,n.hostname=i,n.port=c),"/"===o&&"/"!==s&&(o=s)}}const i=t.roomName||t.room;!i||!n.pathname.endsWith("/")&&n.pathname.endsWith(`/${i}`)||(o.endsWith("/")||(o+="/"),o+=i);n.pathname=o;const{jwt:s}=t;if(s){let{search:t}=n;-1===t.indexOf("?jwt=")&&-1===t.indexOf("&jwt=")&&(t.startsWith("?")||(t=`?${t}`),1===t.length||(t+="&"),t+=`jwt=${s}`,n.search=t)}let{hash:c}=n;for(const e of["config","interfaceConfig","devices"]){const n=f(t[`${e}Overwrite`]||t[e]||t[`${e}Override`]);if(n.length){let t=`${e}.${n.join(`&${e}.`)}`;c.length?t=`&${t}`:c="#",c+=t}}return n.hash=c,n.toString()||void 0}(t));break;case"string":e=String(t)}return e}}).call(this,"react/features/base/util/uri.web.js")},242:function(t,e,n){var o=n(159);function r(t,e){this.logStorage=t,this.stringifyObjects=!(!e||!e.stringifyObjects)&&e.stringifyObjects,this.storeInterval=e&&e.storeInterval?e.storeInterval:3e4,this.maxEntryLength=e&&e.maxEntryLength?e.maxEntryLength:1e4,Object.keys(o.levels).forEach(function(t){this[o.levels[t]]=function(t){this._log.apply(this,arguments)}.bind(this,t)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}r.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},r.prototype.formatLogMessage=function(t){for(var e="",n=1,r=arguments.length;n<r;n++){var i=arguments[n];!this.stringifyObjects&&t!==o.levels.ERROR||"object"!=typeof i||(i=this.stringify(i)),e+=i,n!=r-1&&(e+=" ")}return e.length?e:null},r.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var e=this.queue.length?this.queue[this.queue.length-1]:void 0;("object"==typeof e?e.text:e)==t?"object"==typeof e?e.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},r.prototype.start=function(){this._reschedulePublishInterval()},r.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},r.prototype.flush=function(){this._flush(!1,!0)},r.prototype._flush=function(t,e){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),e&&this._reschedulePublishInterval()},r.prototype.stop=function(){this._flush(!1,!1)},t.exports=r},30:function(t,e,n){var o=n(159),r=n(242),i={},s=[],c=o.levels.TRACE;t.exports={addGlobalTransport:function(t){o.addGlobalTransport(t)},removeGlobalTransport:function(t){o.removeGlobalTransport(t)},getLogger:function(t,e,n){var r=new o(c,t,e,n);return t?(i[t]=i[t]||[],i[t].push(r)):s.push(r),r},setLogLevelById:function(t,e){for(var n=e?i[e]||[]:s,o=0;o<n.length;o++)n[o].setLevel(t)},setLogLevel:function(t){c=t;for(var e=0;e<s.length;e++)s[e].setLevel(t);for(var n in i){var o=i[n]||[];for(e=0;e<o.length;e++)o[e].setLevel(t)}},levels:o.levels,LogCollector:r}},38:function(t,e,n){"use strict";var o=n(236),r=n(237);function i(t){return new Promise((e,n)=>JitsiMeetJS.util.ScriptUtil.loadScript(t,!0,!1,!1,e,n))}var s=n(238);n.d(e,"e",function(){return o.b}),n.d(e,"c",function(){return o.a}),n.d(e,"j",function(){return o.c}),n.d(e,"d",function(){return r.a}),n.d(e,"g",function(){return i}),n.d(e,"a",function(){return s.a}),n.d(e,"b",function(){return s.b}),n.d(e,"f",function(){return s.c}),n.d(e,"h",function(){return s.d}),n.d(e,"i",function(){return s.e}),n.d(e,"k",function(){return s.f})},479:function(t,e,n){"use strict";function o(){const{getroomnode:t}=config,e=window.location.pathname;let n;return n=t&&"function"==typeof t?t.call(config,e):e.substring(e.lastIndexOf("/")+1).toLowerCase()||void 0}n.d(e,"a",function(){return o})},906:function(t,e,n){"use strict";n.r(e);var o=n(479),r=n(147);if("function"==typeof createConnectionExternally){let t=Object(r.a)(window.location,!0,"hash")["config.externalConnectUrl"]||config.externalConnectUrl;const e=Object(r.a)(window.location,!0,"hash")["config.iAmRecorder"];let n;if(t&&(n=Object(o.a)())&&!e){t+=`?room=${n}`;const e=Object(r.a)(window.location,!0,"search").jwt;e&&(t+=`&token=${e}`),createConnectionExternally(t,t=>{window.XMPPAttachInfo={status:"success",data:t},i()},s)}else s()}else s();function i(){window.APP&&"ready"===window.APP.connect.status&&window.APP.connect.handler()}function s(t){t&&console.warn(t),window.XMPPAttachInfo={status:"error"},i()}}});
//# sourceMappingURL=do_external_connect.min.map